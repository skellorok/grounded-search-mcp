---
phase: 06.1-uat-gap-closure
plan: 02
subsystem: infra
tags: [package-json, npm, xdg, config-path, mcp]

# Dependency graph
requires:
  - phase: 06-polish-validation
    provides: MIT license, README, package.json structure
provides:
  - Provider-agnostic package naming (grounded-search-mcp)
  - Consistent XDG config paths across token and config storage
  - Updated CLI binary name (grounded-search-mcp)
  - Updated MCP server key (grounded-search)
affects: [06.1-03, 06.1-04, npm-publish, documentation]

# Tech tracking
tech-stack:
  added: []
  patterns:
    - "grounded-search-mcp as provider-agnostic naming convention"
    - "~/.config/grounded-search-mcp/ for all user data"

key-files:
  created: []
  modified:
    - package.json
    - src/auth/token-storage.ts
    - src/config/storage.ts
    - src/config/storage.test.ts
    - LICENSE
    - .mcp.json

key-decisions:
  - "grounded-search-mcp naming allows future non-Gemini providers"
  - "No token migration - users re-authenticate after upgrade (clean slate)"
  - "Config storage renamed for consistency with token storage"

patterns-established:
  - "Package name: grounded-search-mcp"
  - "CLI binary: grounded-search-mcp"
  - "MCP server key: grounded-search"
  - "XDG config path: ~/.config/grounded-search-mcp/"

# Metrics
duration: 3min
completed: 2026-02-05
---

# Phase 6.1 Plan 02: Project Rename Summary

**Renamed project from gemini-search-mcp to grounded-search-mcp across package.json, token/config storage paths, LICENSE, and MCP config**

## Performance

- **Duration:** 3 min
- **Started:** 2026-02-05T10:04:00Z
- **Completed:** 2026-02-05T10:07:00Z
- **Tasks:** 3
- **Files modified:** 6

## Accomplishments
- Package renamed to grounded-search-mcp for provider-agnostic naming
- Token and config storage paths unified at ~/.config/grounded-search-mcp/
- MCP server key updated from gemini-search to grounded-search
- All verification checks pass (build, typecheck, tests)

## Task Commits

Each task was committed atomically:

1. **Task 1: Rename package.json name and bin** - `6dcc672` (feat)
2. **Task 2: Rename token storage config path** - `493add4` (feat)
3. **Task 3: Update LICENSE and .mcp.json** - `6fbd04d` (feat)

**Deviation fix:** `ccbc045` (fix) - config storage path also needed rename

## Files Created/Modified
- `package.json` - Name, bin, description, keywords updated
- `src/auth/token-storage.ts` - envPaths call and JSDoc comments
- `src/config/storage.ts` - envPaths call and JSDoc comments (deviation fix)
- `src/config/storage.test.ts` - Test expectations updated (deviation fix)
- `LICENSE` - Copyright line updated
- `.mcp.json` - Server key updated

## Decisions Made
- **grounded-search-mcp naming:** User explicitly requested generic naming at project start to allow future non-Gemini providers
- **No token migration:** Per CONTEXT.md, users re-authenticate after upgrade (clean slate approach)

## Deviations from Plan

### Auto-fixed Issues

**1. [Rule 3 - Blocking] Config storage also needed rename**
- **Found during:** Verification (after Task 3)
- **Issue:** Plan only specified token-storage.ts rename, but config storage also used google-search-mcp path
- **Fix:** Updated src/config/storage.ts and src/config/storage.test.ts with grounded-search-mcp naming
- **Files modified:** src/config/storage.ts, src/config/storage.test.ts
- **Verification:** `grep -r "google-search-mcp" src/` returns empty, tests pass
- **Committed in:** `ccbc045`

---

**Total deviations:** 1 auto-fixed (blocking)
**Impact on plan:** Essential fix for consistency - verification checks required no old names in src/

## Issues Encountered
None - execution was straightforward once config storage deviation was identified.

## User Setup Required
**Re-authentication required after upgrade:** Tokens stored at old path (~/.config/google-search-mcp/) will not be migrated. Users need to run `grounded-search-mcp --login <provider>` after upgrading.

## Next Phase Readiness
- Package renamed and consistent naming established
- Ready for Plan 03 (GSD integration) - documentation updates can reference new naming
- Ready for Plan 04 (documentation) - all internal references now use grounded-search-mcp

---
*Phase: 06.1-uat-gap-closure*
*Completed: 2026-02-05*
