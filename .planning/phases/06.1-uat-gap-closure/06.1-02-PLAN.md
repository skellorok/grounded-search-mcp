---
phase: 06.1-uat-gap-closure
plan: 02
type: execute
wave: 2
depends_on: ["06.1-01"]
files_modified:
  - package.json
  - src/auth/token-storage.ts
  - LICENSE
  - .mcp.json
autonomous: true

must_haves:
  truths:
    - "npm package name is grounded-search-mcp"
    - "CLI binary name is grounded-search-mcp"
    - "Token storage uses ~/.config/grounded-search-mcp/"
    - "MCP server key in .mcp.json is grounded-search"
  artifacts:
    - path: "package.json"
      provides: "Package name and bin configuration"
      contains: "grounded-search-mcp"
    - path: "src/auth/token-storage.ts"
      provides: "XDG config path"
      contains: "grounded-search-mcp"
    - path: "LICENSE"
      provides: "MIT license with updated copyright"
      contains: "grounded-search-mcp"
  key_links:
    - from: "package.json"
      to: "build/index.js"
      via: "bin field"
      pattern: "grounded-search-mcp.*index.js"
---

<objective>
Rename project from gemini-search-mcp to grounded-search-mcp across all core artifacts.

Purpose: User explicitly requested generic naming at project start to allow future non-Gemini providers. Current naming is Gemini-specific and needs to be provider-agnostic.

Output: Updated package.json, token-storage.ts, LICENSE, and .mcp.json with grounded-search-mcp naming.
</objective>

<execution_context>
@/home/skello/.claude/get-shit-done/workflows/execute-plan.md
@/home/skello/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06.1-uat-gap-closure/06.1-CONTEXT.md
@.planning/phases/06.1-uat-gap-closure/06.1-RESEARCH.md
@.planning/phases/06.1-uat-gap-closure/06.1-01-SUMMARY.md

@package.json
@src/auth/token-storage.ts
@LICENSE
@.mcp.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rename package.json name and bin</name>
  <files>package.json</files>
  <action>
Update package.json with new name:

1. Change `"name": "gemini-search-mcp"` to `"name": "grounded-search-mcp"`

2. Change `"bin": { "gemini-search-mcp": ... }` to `"bin": { "grounded-search-mcp": "./build/index.js" }`

3. Update description to be provider-agnostic:
   `"description": "MCP server providing grounded Google Search with source citations"`

4. Update keywords - keep relevant ones, add "grounded-search":
   ```json
   "keywords": [
     "mcp",
     "claude",
     "grounded-search",
     "google-search",
     "citations",
     "claude-code",
     "web-search"
   ]
   ```

Do NOT change version, dependencies, or scripts.
  </action>
  <verify>Run `npm run build` - should complete without errors</verify>
  <done>package.json uses grounded-search-mcp for name and bin</done>
</task>

<task type="auto">
  <name>Task 2: Rename token storage config path</name>
  <files>src/auth/token-storage.ts</files>
  <action>
Update the envPaths call to use new name:

1. Change line ~24:
   From: `const paths = envPaths('google-search-mcp', { suffix: '' });`
   To: `const paths = envPaths('grounded-search-mcp', { suffix: '' });`

2. Update the JSDoc comment above it (~lines 19-23):
   From:
   ```
   * On Linux: ~/.config/google-search-mcp/
   * On macOS: ~/Library/Preferences/google-search-mcp/
   * On Windows: %APPDATA%/google-search-mcp/Config/
   ```
   To:
   ```
   * On Linux: ~/.config/grounded-search-mcp/
   * On macOS: ~/Library/Application Support/grounded-search-mcp/
   * On Windows: %APPDATA%/grounded-search-mcp/
   ```

3. Update module docstring at top (~line 2):
   From: `Secure token storage for gemini-search-mcp`
   To: `Secure token storage for grounded-search-mcp`

Note: Per CONTEXT.md, do NOT migrate tokens from old path. Users will need to re-authenticate. This is intentional (clean slate approach).
  </action>
  <verify>Run `npm run typecheck` - no errors</verify>
  <done>Token storage uses ~/.config/grounded-search-mcp/ path</done>
</task>

<task type="auto">
  <name>Task 3: Update LICENSE and .mcp.json</name>
  <files>LICENSE, .mcp.json</files>
  <action>
1. **LICENSE**: Update copyright line:
   From: `Copyright (c) 2026 gemini-search-mcp contributors`
   To: `Copyright (c) 2026 grounded-search-mcp contributors`

2. **.mcp.json**: Update MCP server key from "gemini-search" to "grounded-search":
   - Find the server entry key and rename it
   - Keep all other configuration (command, args, etc.) the same
   - If there's a comment about the server name, update it

Example .mcp.json structure:
```json
{
  "mcpServers": {
    "grounded-search": {
      ...existing config...
    }
  }
}
```
  </action>
  <verify>
Verify LICENSE has correct copyright line.
Verify .mcp.json has "grounded-search" as server key.
  </verify>
  <done>LICENSE and .mcp.json use grounded-search-mcp naming</done>
</task>

</tasks>

<verification>
1. `npm run build` completes successfully
2. `npm run typecheck` passes
3. `grep -r "gemini-search-mcp" package.json` returns empty (no old name)
4. `grep -r "google-search-mcp" src/` returns empty (no old config path)
5. LICENSE contains "grounded-search-mcp contributors"
6. .mcp.json has "grounded-search" as server key
</verification>

<success_criteria>
- package.json name is "grounded-search-mcp"
- package.json bin is "grounded-search-mcp"
- Token storage uses "grounded-search-mcp" for env-paths
- LICENSE copyright references grounded-search-mcp
- .mcp.json server key is "grounded-search"
- Build and typecheck pass
</success_criteria>

<output>
After completion, create `.planning/phases/06.1-uat-gap-closure/06.1-02-SUMMARY.md`
</output>
