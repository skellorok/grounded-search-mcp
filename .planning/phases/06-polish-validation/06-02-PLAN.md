---
phase: 06-polish-validation
plan: 02
type: execute
wave: 2
depends_on: ["06-01"]
files_modified:
  - README.md
  - docs/websearch-comparison.md
  - docs/gsd-integration.md
  - LICENSE
  - package.json
autonomous: true

must_haves:
  truths:
    - "README explains what this MCP server does and how to install it"
    - "README documents all three tools (grounded_search, auth, config)"
    - "WebSearch comparison explains why grounded_search vs WebSearch"
    - "GSD integration guide documents agent override approach"
    - "MIT license file exists"
  artifacts:
    - path: "README.md"
      provides: "Complete MCP server documentation"
      min_lines: 200
    - path: "docs/websearch-comparison.md"
      provides: "WebSearch vs grounded_search analysis"
      min_lines: 80
    - path: "docs/gsd-integration.md"
      provides: "GSD framework integration guide"
      min_lines: 60
    - path: "LICENSE"
      provides: "MIT license"
      contains: "MIT License"
  key_links:
    - from: "README.md"
      to: "docs/websearch-comparison.md"
      via: "relative link"
      pattern: "\\./docs/websearch-comparison"
    - from: "README.md"
      to: "docs/gsd-integration.md"
      via: "relative link"
      pattern: "\\./docs/gsd-integration"
---

<objective>
Create comprehensive documentation and prepare for release

Purpose: Production-ready documentation that enables both quick-start users and developers to understand and use the MCP server. Includes WebSearch comparison justifying the tool's value and GSD integration guide.
Output: Complete README, detailed comparison docs, GSD integration guide, and MIT license.
</objective>

<execution_context>
@/home/skello/.claude/get-shit-done/workflows/execute-plan.md
@/home/skello/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-polish-validation/06-CONTEXT.md
@.planning/phases/06-polish-validation/06-RESEARCH.md

Key files for documentation:
@src/tools/search.ts
@src/tools/auth.ts
@src/tools/config.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create comprehensive README</name>
  <files>README.md</files>
  <action>
Create README.md following MCP server conventions.

**Structure:**

```markdown
# gemini-search-mcp

Google Search grounding via Gemini API for Claude Code

## Overview

1-2 paragraphs explaining:
- What this MCP server provides (Google Search grounding)
- Why it's better than WebSearch (Google vs Brave, citations, transparency)
- Who it's for (Claude Code users with Google One AI Pro)

## Quick Start

Minimal 4-step setup:
1. Clone/install
2. Configure .mcp.json
3. Authenticate
4. Search

## Installation

### From GitHub (Recommended)
```bash
git clone https://github.com/your-username/gemini-search-mcp
cd gemini-search-mcp
npm install
npm run build
```

### Configuration

Add to Claude Code .mcp.json (scope-level, user-level, or project-level):
```json
{
  "mcpServers": {
    "gemini-search": {
      "command": "node",
      "args": ["/path/to/gemini-search-mcp/build/index.js"]
    }
  }
}
```

## Tools Reference

### grounded_search
**Parameters:**
- `query` (required): Search query string
- `thinking` (optional): "high", "low", or "none" - controls Gemini thinking for Antigravity provider

**Example:**
```
grounded_search --query "latest TypeScript 5.8 features"
```

**Returns:** Markdown with search results, sources, request details, and search queries used

### auth
**Flags:**
- `--login <provider>`: Start OAuth flow (antigravity or gemini)
- `--status`: Show authentication status for all providers
- `--logout <provider>`: Remove stored tokens
- `--default-provider <provider>`: Set default provider for searches

**Example:**
```
auth --login antigravity
auth --status
```

### config
**Flags:**
- `--show`: Display all configuration
- `--get <key>`: Get specific config value
- `--set <key=value>`: Set config values (can specify multiple)
- `--reset [key]`: Reset to defaults

**Example:**
```
config --set defaultThinking=high verbose=true
config --show
```

## Authentication

Two authentication providers:
- **Antigravity** (recommended): Uses gemini-3-flash with thinking, better quality
- **Gemini CLI**: Uses gemini-2.5-flash, good fallback option

Both use Google OAuth. Run `auth --login <provider>` and follow the browser flow.

## Why grounded_search?

Brief summary comparing to WebSearch:
- Google Search vs Brave Search
- Grounding metadata (actual queries used)
- Source citations
- Link to detailed comparison

See [WebSearch Comparison](./docs/websearch-comparison.md) for detailed analysis.

## GSD Integration

For users of the GSD framework who want to use grounded_search in research agents.

See [GSD Integration Guide](./docs/gsd-integration.md) for setup instructions.

## Architecture

Brief technical overview for developers:
- Two-stage orchestration for reliable grounding
- Provider fallback system
- Token refresh with deduplication
- XDG-compliant config storage

## Requirements

- Node.js 18+
- Google One AI Pro subscription (for API quota)

## Contributing

Standard contribution guidelines.

## License

MIT - see [LICENSE](./LICENSE)
```

Reference existing tool implementations for accurate parameter documentation.
  </action>
  <verify>
README.md exists and contains all required sections.
Links to docs/*.md are correct relative paths.
  </verify>
  <done>README provides complete installation, configuration, and usage documentation</done>
</task>

<task type="auto">
  <name>Task 2: Create WebSearch comparison and GSD integration docs</name>
  <files>docs/websearch-comparison.md, docs/gsd-integration.md</files>
  <action>
Create docs/ directory and detailed documentation files.

**docs/websearch-comparison.md:**

```markdown
# WebSearch vs grounded_search Comparison

## Overview

Comparison between Claude's built-in WebSearch and this MCP's grounded_search tool.

## Technical Differences

| Aspect | Claude WebSearch | grounded_search |
|--------|-----------------|-----------------|
| Search Provider | Brave Search | Google (via Gemini) |
| Cost | $10/1000 searches + tokens | Free (uses your Gemini quota) |
| Citations | Built-in cited_text | URLs in Sources section |
| Query Transparency | Hidden | Shows actual queries used |
| Rate Limits | Anthropic limits | Gemini/Google limits |

## Search Quality

### Google vs Brave Index
- Google has larger, more comprehensive index
- Google typically has more recent content
- Brave may have fresher results for some niche topics

### Grounding Approach
- WebSearch: Claude generates query, Brave searches, Claude synthesizes
- grounded_search: Gemini generates query, Google searches, Gemini summarizes, Claude uses result

## Token Usage

### WebSearch
- Input tokens: Your query + search results (can be large)
- Output tokens: Claude's synthesis

### grounded_search
- Gemini handles search + initial synthesis (uses your Gemini quota)
- Claude receives pre-summarized result
- Potentially lower Claude token usage for complex searches

## When to Use Which

### Use grounded_search when:
- You want Google Search quality
- You want to see actual search queries used
- You're doing extensive research (save on WebSearch costs)
- You have Google One AI Pro subscription

### Use WebSearch when:
- Simple queries where any search works
- You don't have Google credentials set up
- You need built-in citation format

## Source Quality Comparison

grounded_search provides:
- Source title and URL
- Domain extraction for quick reference
- Deduplicated sources (no duplicates)
- Actual search queries used by Gemini

## Limitations

### grounded_search
- Requires Google authentication
- Dependent on Gemini API availability
- Two-model approach (Gemini + Claude)

### WebSearch
- Brave index may be smaller
- Hidden query generation
- Per-search cost
```

**docs/gsd-integration.md:**

```markdown
# GSD Integration Guide

Integrate grounded_search with the GSD (Get Shit Done) framework for Claude Code.

## Prerequisites

1. gemini-search-mcp configured in .mcp.json
2. Authenticated with at least one provider (`auth --login antigravity`)
3. GSD framework installed

## The Challenge

GSD agents have explicit tool lists in their frontmatter:
```yaml
tools: Read, Write, Bash, Grep, Glob, WebSearch, WebFetch, mcp__context7__*
```

Tool lists are **hard constraints** - agents can only use listed tools.

## Solution: Local Agent Overrides

Create local copies of GSD agents with grounded_search added to their tool lists.

### Step 1: Copy Agent to Override

```bash
cp ~/.claude/agents/gsd-phase-researcher.md ~/.claude/agents/my-gsd-phase-researcher.md
```

### Step 2: Modify Tool List

Edit the frontmatter to add grounded_search:
```yaml
tools: Read, Write, Bash, Grep, Glob, WebSearch, WebFetch, mcp__context7__*, mcp__gemini-search__grounded_search
```

### Step 3: (Optional) Add Preference Instruction

Add to the agent instructions:
```
For web research, prefer grounded_search over WebSearch when available.
grounded_search provides Google Search results with source citations and query transparency.
```

## Agents to Override

The following GSD agents use WebSearch:
- `gsd-phase-researcher` - Most common research agent
- `gsd-project-researcher` - Project-level research
- `gsd-debugger` - Debug research

## Alternative: ToolSearch Discovery

Some agents can discover MCP tools dynamically using ToolSearch.
Add to agent instructions:
```
Before starting research, use ToolSearch to check if grounded_search is available.
If available, prefer it over WebSearch.
```

Note: This only works for agents with ToolSearch in their tool list.

## Configuration Propagation

You can also add grounded_search preference to:
- `.planning/PROJECT.md` - Project-level configuration
- Phase CONTEXT.md files - Per-phase instructions

Example in PROJECT.md:
```markdown
## Tools

For research tasks, prefer `mcp__gemini-search__grounded_search` over WebSearch when available.
```

## Troubleshooting

### "Tool not found: mcp__gemini-search__grounded_search"
- Verify gemini-search-mcp is configured in .mcp.json
- Verify you've authenticated (`auth --status`)
- Restart Claude Code after .mcp.json changes

### Agent still uses WebSearch
- Verify tool list includes `mcp__gemini-search__*`
- Check that your local agent override is being used (not upstream)

## Maintenance Note

GSD agents update frequently. Local overrides won't receive upstream improvements.
Periodically check for GSD updates and re-apply your modifications.
```
  </action>
  <verify>
Both docs files exist.
Markdown formatting is correct (check with cat or read).
  </verify>
  <done>WebSearch comparison and GSD integration documentation complete</done>
</task>

<task type="auto">
  <name>Task 3: Add LICENSE and finalize package.json</name>
  <files>LICENSE, package.json</files>
  <action>
**Create LICENSE file:**

Create MIT license file (all dependencies are MIT, MCP ecosystem uses MIT):

```
MIT License

Copyright (c) 2026 [Author Name]

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

**Update package.json:**

Add/verify these fields:
- `"license": "MIT"`
- `"author": "[Author Name]"` (if not set)
- `"repository"`: GitHub URL (if known, otherwise omit)
- `"keywords": ["mcp", "claude", "gemini", "google-search", "grounding"]`

Verify existing fields are correct for publishing later.
  </action>
  <verify>
LICENSE file exists with MIT license text.
`cat package.json | grep license` shows "MIT".
  </verify>
  <done>MIT license added and package.json ready for release</done>
</task>

</tasks>

<verification>
1. README.md exists with all documented sections
2. docs/websearch-comparison.md exists with comparison table
3. docs/gsd-integration.md exists with override instructions
4. LICENSE file exists with MIT license
5. package.json has license field set to "MIT"
6. All relative links in README resolve correctly
</verification>

<success_criteria>
- README enables a new user to install and use the MCP server
- WebSearch comparison justifies grounded_search's value proposition
- GSD integration guide enables framework users to adopt grounded_search
- License is MIT (matching ecosystem conventions)
</success_criteria>

<output>
After completion, create `.planning/phases/06-polish-validation/06-02-SUMMARY.md`
</output>
